(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ProxyCms"],{"0834":function(t,a,e){},"1ce2":function(t,a,e){"use strict";var l=e("0834"),r=e.n(l);r.a},3012:function(t,a,e){"use strict";e.r(a);var l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"all-data-page"},[e("section",{staticClass:"table-container"},[e("div",{staticClass:"tabel-top"},[e("div",{staticClass:"header"},[e("h3",[t._v("总数据")]),t.isShowSelect?e("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:t.proxyId,callback:function(a){t.proxyId=a},expression:"proxyId"}},t._l(t.proxyList,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1):t._e()],1),e("div",{staticClass:"table-date-picker"},[e("el-date-picker",{attrs:{type:"date",placeholder:"开始时间"},model:{value:t.totalStartDate,callback:function(a){t.totalStartDate=a},expression:"totalStartDate"}}),e("span",{staticStyle:{margin:"0 2%"}},[t._v("至")]),e("el-date-picker",{attrs:{type:"date",placeholder:"结束时间"},model:{value:t.totalEndDate,callback:function(a){t.totalEndDate=a},expression:"totalEndDate"}}),e("el-button",{staticStyle:{"margin-left":"2%"},attrs:{icon:"el-icon-search",circle:""},on:{click:t.searchAllData}})],1)]),e("el-divider"),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.allLoading,expression:"allLoading"}],attrs:{stripe:"",data:t.totalData,border:""}},[e("el-table-column",{attrs:{prop:"userCount",label:"总用户人数",width:"110"}}),e("el-table-column",{attrs:{prop:"postCount",label:"总相亲帖数",width:"110"}}),e("el-table-column",{attrs:{prop:"profit",label:"总收益",width:"110"}}),e("el-table-column",{attrs:{prop:"needSettlement",label:"未结算余额",width:"110"}})],1)],1),e("section",{staticClass:"table-container"},[e("div",{staticClass:"tabel-top"},[e("h3",[t._v("每日数据")]),e("div",{staticClass:"table-date-picker"},[e("el-date-picker",{attrs:{type:"date",placeholder:"开始时间"},model:{value:t.everyDayStartDate,callback:function(a){t.everyDayStartDate=a},expression:"everyDayStartDate"}}),e("span",{staticStyle:{margin:"0 2%"}},[t._v("至")]),e("el-date-picker",{attrs:{type:"date",placeholder:"结束时间"},model:{value:t.everyDayEndDate,callback:function(a){t.everyDayEndDate=a},expression:"everyDayEndDate"}}),e("el-button",{staticStyle:{"margin-left":"2%"},attrs:{icon:"el-icon-search",circle:""},on:{click:t.searchDayData}})],1)]),e("el-divider"),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.dayLoading,expression:"dayLoading"}],attrs:{stripe:"",data:t.everyDayData,border:"",height:"300"}},[e("el-table-column",{attrs:{prop:"date",label:"日期",width:"110"}}),e("el-table-column",{attrs:{prop:"userCount",label:"用户数",width:"100"}}),e("el-table-column",{attrs:{prop:"postCount",label:"相亲帖数",width:"100"}}),e("el-table-column",{attrs:{prop:"payCount",label:"支付金额",width:"100"}}),e("el-table-column",{attrs:{prop:"receiveCount",label:"被支付金额",width:"100"}}),e("el-table-column",{attrs:{prop:"profit",label:"当日收益",width:"100"}})],1)],1),e("section",{staticClass:"mine-link"},[t.url?e("div",{staticClass:"link"},[t._v(" 代理链接："),e("span",[t._v(t._s(t.url))]),e("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.url,expression:"url",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.urlCopySuccess,expression:"urlCopySuccess",arg:"success"}],attrs:{size:"small"}},[t._v("复制")])],1):t._e(),t.qrBase64?e("div",{staticClass:"qr-code"},[t._v(" 代理二维码： "),e("div",[e("img",{attrs:{src:t.qrBase64,alt:""}}),e("div",[t._v("(长按保存二维码)")])])]):t._e()]),e("a",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"download",attrs:{href:this.qrBase64,download:t.downloadfilename}})])},r=[],s=e("4ec3"),i=e("fa7d"),o={data:function(){return{totalStartDate:"",totalEndDate:"",everyDayStartDate:"",everyDayEndDate:"",allLoading:!1,dayLoading:!1,url:"213",qrBase64:" 123",downloadfilename:"",totalData:[],everyDayData:[],proxyList:[],proxyId:"",isShowSelect:!1}},watch:{proxyId:function(){this.totalStartDate&&this.totalEndDate&&this.searchAllData(),this.everyDayStartDate&&this.everyDayEndDate&&this.searchDayData(),this.getHomeData()}},mounted:function(){var t=localStorage.getItem("god");t?(this.getProxyList(),this.isShowSelect=!0):this.getHomeData()},methods:{getHomeData:function(){var t=this,a=this.proxyId||localStorage.getItem("id");Object(s["g"])({id:a}).then((function(a){t.url=a.data.url,t.qrBase64="data:image/png;base64,"+a.data.qrBase64}))},getProxyList:function(){var t=this;Object(s["l"])().then((function(a){t.proxyList=a.data.list}))},searchAllData:function(){var t=this,a=this.proxyId||localStorage.getItem("id");return this.totalStartDate?this.totalEndDate?(this.allLoading=!0,void Object(s["h"])({id:a,startDate:Object(i["a"])(this.totalStartDate),endDate:Object(i["a"])(this.totalEndDate)}).then((function(a){t.totalData=[{userCount:a.data.userCount,postCount:a.data.postCount,profit:a.data.profit,needSettlement:a.data.needSettlement}],t.allLoading=!1})).catch((function(){t.allLoading=!1}))):this.$message.error("请选择截止日期"):this.$message.error("请选择起始日期")},searchDayData:function(){var t=this,a=this.proxyId||localStorage.getItem("id");return this.everyDayStartDate?this.everyDayEndDate?(this.dayLoading=!0,void Object(s["j"])({id:a,startDate:Object(i["a"])(this.everyDayStartDate),endDate:Object(i["a"])(this.everyDayEndDate)}).then((function(a){t.everyDayData=a.data.list,t.dayLoading=!1})).catch((function(){t.dayLoading=!1}))):this.$message.error("请选择截止日期"):this.$message.error("请选择起始日期")},urlCopySuccess:function(){this.$message.success("代理链接复制成功")},downLoadImage:function(){var t=this,a=(new Date).getTime(),e=this.qrBase64.substring(22,30)+a+".png";this.downloadfilename=e,this.$nextTick((function(){t.$refs.download.click()}))}}},n=o,c=(e("c822"),e("2877")),d=Object(c["a"])(n,l,r,!1,null,"8478c10e",null);a["default"]=d.exports},"8cdb":function(t,a,e){"use strict";e.r(a);var l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page-con"},[t._v("404")])},r=[],s={},i=s,o=(e("1ce2"),e("2877")),n=Object(o["a"])(i,l,r,!1,null,"8fc4dbec",null);a["default"]=n.exports},c822:function(t,a,e){"use strict";var l=e("eccc"),r=e.n(l);r.a},eccc:function(t,a,e){},fa7d:function(t,a,e){"use strict";e.d(a,"a",(function(){return l}));var l=function(t){var a=t.getFullYear(),e=t.getMonth()+1;e=e<10?"0"+e:e;var l=t.getDate();return l=l<10?"0"+l:l,a+"-"+e+"-"+l}}}]);
//# sourceMappingURL=ProxyCms.53c46125.js.map